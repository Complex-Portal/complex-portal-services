# MuSIC Import

## Introduction

The MuSIC Import is a Java service used to process files with MuSIC complexes, and import them into the Complex Portal database.

Currently, this service only support import of human complexes.

## How to run

There are two scripts to process and import MuSIC complexes into Complex Portal.
This is because there are two different format of files containing MuSIC complexes that this service support,
one for complexes with confidence values, and another one for complexes with AI generated names.

To process and import MuSIC complexes with confidence values, run the script [importMusicComplexesWithConfidence.sh](importMusicComplexesWithConfidence.sh).

To process and import MuSIC complexes with names, run the script [importMusicComplexesWithName.sh](importMusicComplexesWithName.sh).

By default, this script won't actually make any modifications in the database, it will just generate reports with the complexes that would be created and updated based on the input data.

To actually import data into the database, change property 'dry.run.mode' in the file [music-import.properties](src/main/resources/META-INF/music-import.properties) to false.

### Input arguments

The scripts take the following 6 input arguments:
1. Maven profile
2. IntAct editor username
3. MuSIC input file
4. Directory to write report and output files
5. Separator used in the input and output files
6. Boolean to indicate if the input file has a header

### Input file format

As mentioned above, there are two different formats of input files with MuSIC complexes supported.
The input file in either format is expected to be a tabular file, with a MuSIC complex in each row.

#### Input file with confidence values

This file should contain 3 columns:
- MuSIC complex id
- List of gene names for the proteins in the complex (space separated)
- MuSIC robustness value

```
ID	Proteins	Robustness
<complex_id_1>	<protein_1_2> <robustness_1>
<complex_id_2>	<protein_2_2> <protein_2_3>  <robustness_2>
...
```

#### Input file with complex names

This file should contain 3 columns:
- Complex name
- List of gene names for the proteins in the complex (space separated)
- MuSIC complex id

```
System	Proteins	ID
<complex_name_1>	<protein_1_2> <complex_id_1>
<complex_name_2>	<protein_2_2> <protein_2_3>  <complex_id_2>
...
```

## More technical details

For more technical details, check the [Complex Batch Import README](../complex-batch-import/README.md),
containing information about the process to import the complexes, maven profile needed to run the script,
and output files generated by this service.
